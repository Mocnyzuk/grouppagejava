(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9460062"],{"065f":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"groupSettings col",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[s("h3",[e._v(e._s(e.data.name))]),s("GroupJoinRequests",{attrs:{requests:e.requests},on:{"user-accept":e.onUserAccept}}),s("b-button",{staticClass:"save",attrs:{type:"submit",variant:"primary"}},[e._v("Save")])],1)},n=[],a=(s("96cf"),s("1da1")),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("h5",[e._v("Join requests: "+e._s(e.requests.length))]),s("b-button",{staticClass:"ml-auto",on:{click:function(t){t.preventDefault(),e.open=!e.open}}},[e._v(" "+e._s(e.open?"Hide":"Open")+" ")])],1),e.open&&!e.requests.length?s("div",[e._v(" No join requests ")]):e._e(),e.open&&e.requests.length?s("div",{staticClass:"col"},[s("b-list-group",{staticClass:"col requestList"},e._l(e.requests,(function(t,r){return s("b-list-group-item",{key:r,staticClass:"col requestList__item"},[s("h4",[e._v("nickname: "+e._s(t.nickname))]),e._l(e.requestForm(t),(function(t,r){return s("b-list-group",{key:r,attrs:{tag:"ul"}},[s("b-list-group-item",{staticClass:"col"},[s("p",[s("strong",[e._v(" "+e._s(r)+" ")])]),s("p",[e._v(" "+e._s(t)+" ")])])],1)})),s("b-button",{staticClass:"mt-2",attrs:{variant:"success",disabled:e.users.includes(t.nickname)},on:{click:function(s){return s.preventDefault(),e.acceptUser(t.nickname)}}},[e._v(" Accept ")])],2)})),1)],1):e._e()])},c=[],i={props:{requests:Array},data:function(){return{users:[],open:!1}},methods:{requestForm:function(e){return e.form.form},acceptUser:function(e){this.users.push(e),this.$emit("user-accept",this.users)}}},o=i,p=(s("5572"),s("2877")),l=Object(p["a"])(o,u,c,!1,null,"b4eda588",null),f=l.exports,v=function(e){var t={name:"",description:"",category:"",imagePath:"",accept:0,private:0,reactionId:1,color:""};return e?Object.assign(t,e):t},m={name:"Group-Settings",components:{GroupJoinRequests:f},props:{modalProps:{type:Object,required:!1}},data:function(){return{data:JSON.parse(JSON.stringify(this.modalProps)),group:this.createNewGroup(this.data),requests:[],users:[]}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchRequests();case 2:case"end":return t.stop()}}),t)})))()},methods:{createNewGroup:v,fetchRequests:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.group.getJoinRequests(e.data.id);case 3:s=t.sent,r=s.data,e.requests=r,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.group.acceptRequests(e.data.id,e.users);case 3:e.$eventBus.$emit("close-modal"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$alert.display(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onUserAccept:function(e){this.users=e}}},d=m,h=(s("ab5e"),Object(p["a"])(d,r,n,!1,null,"0b009ff8",null));t["default"]=h.exports},"27aa":function(e,t,s){},"36c1":function(e,t,s){},5572:function(e,t,s){"use strict";var r=s("36c1"),n=s.n(r);n.a},ab5e:function(e,t,s){"use strict";var r=s("27aa"),n=s.n(r);n.a}}]);
//# sourceMappingURL=chunk-e9460062.bb766240.js.map